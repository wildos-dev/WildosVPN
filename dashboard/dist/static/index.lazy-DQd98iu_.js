import{c as L,W as p,f as A,g as $e,_ as De,a as Je,b as Ce,d as et,i as D,T as he,p as T,L as _,e as Fe,h as ye,j as ge,r as oe,D as tt,C as rt,k as W,l as B,S as nt,A as at,m as it,n as Pe,o as ot,q as M,s as st,u as ct,G as lt,t as te,v as ut,w as ft,x as dt,y as ee,z as je,B as pt,E as mt,F as Ke,U as vt,H as Be,I as be,J as l,K as Me,M as Ve,N as Ue,O as We,P as ht,Q as yt,R as gt,V as Q,X as bt,Y as xt,Z as fe,$ as At,a0 as Ot,a1 as Pt,a2 as jt,a3 as kt,a4 as _t,a5 as wt,a6 as St,a7 as Tt}from"./index-DPGZIZMG.js";import{P as Et}from"./index-DWVRUEcY.js";var Rt=["points","className","baseLinePoints","connectNulls"];function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function Lt(t,e){if(t==null)return{};var n=Nt(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ke(t){return Ct(t)||Dt(t)||$t(t)||It()}function It(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(t,e){if(t){if(typeof t=="string")return de(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(t,e)}}function Dt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ct(t){if(Array.isArray(t))return de(t)}function de(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _e=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ft=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){_e(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),_e(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Z=function(e,n){var r=Ft(e);n&&(r=[r.reduce(function(o,i){return[].concat(ke(o),ke(i))},[])]);var a=r.map(function(o){return o.reduce(function(i,u,s){return"".concat(i).concat(s===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Kt=function(e,n,r){var a=Z(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Z(n.reverse(),r).slice(1))},Bt=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,o=e.connectNulls,i=Lt(e,Rt);if(!n||!n.length)return null;var u=L("recharts-polygon",r);if(a&&a.length){var s=i.stroke&&i.stroke!=="none",c=Kt(n,a,o);return p.createElement("g",{className:u},p.createElement("path",V({},A(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),s?p.createElement("path",V({},A(i,!0),{fill:"none",d:Z(n,o)})):null,s?p.createElement("path",V({},A(i,!0),{fill:"none",d:Z(a,o)})):null)}var f=Z(n,o);return p.createElement("path",V({},A(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",className:u,d:f}))},Mt=De,Vt=Je,Ut=Ce;function Wt(t,e){return t&&t.length?Mt(t,Ut(e),Vt):void 0}var qt=Wt;const zt=$e(qt);var Ht=De,Gt=Ce,Qt=et;function Zt(t,e){return t&&t.length?Ht(t,Gt(e),Qt):void 0}var Xt=Zt;const Yt=$e(Xt);var Jt=["cx","cy","angle","ticks","axisLine"],er=["ticks","tick","angle","tickFormatter","stroke"];function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?we(Object(n),!0).forEach(function(r){se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e){if(t==null)return{};var n=tr(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tr(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ze(r.key),r)}}function nr(t,e,n){return e&&Te(t.prototype,e),n&&Te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ar(t,e,n){return e=ne(e),ir(t,qe()?Reflect.construct(e,n||[],ne(t).constructor):e.apply(t,n))}function ir(t,e){if(e&&(q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!t})()}function ne(t){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ne(t)}function sr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pe(t,e)}function se(t,e,n){return e=ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t){var e=cr(t,"string");return q(e)=="symbol"?e:e+""}function cr(t,e){if(q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ce=function(t){function e(){return rr(this,e),ar(this,e,arguments)}return sr(e,t),nr(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,i=o.angle,u=o.cx,s=o.cy;return T(u,s,a,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,u=r.ticks,s=zt(u,function(f){return f.coordinate||0}),c=Yt(u,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,u=r.ticks,s=r.axisLine,c=Se(r,Jt),f=u.reduce(function(v,d){return[Math.min(v[0],d.coordinate),Math.max(v[1],d.coordinate)]},[1/0,-1/0]),m=T(a,o,f[0],i),h=T(a,o,f[1],i),O=I(I(I({},A(c,!1)),{},{fill:"none"},A(s,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return p.createElement("line",X({className:"recharts-polar-radius-axis-line"},O))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,u=a.angle,s=a.tickFormatter,c=a.stroke,f=Se(a,er),m=this.getTickTextAnchor(),h=A(f,!1),O=A(i,!1),v=o.map(function(d,g){var b=r.getTickValueCoord(d),x=I(I(I(I({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},O),{},{index:g},b),{},{payload:d});return p.createElement(_,X({className:L("recharts-polar-radius-axis-tick",Fe(i)),key:"tick-".concat(d.coordinate)},ye(r.props,d,g)),e.renderTickItem(i,x,s?s(d.value,g):d.value))});return p.createElement(_,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,i=r.tick;return!a||!a.length?null:p.createElement(_,{className:L("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),ge.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return p.isValidElement(r)?i=p.cloneElement(r,a):D(r)?i=r(a):i=p.createElement(he,X({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(oe.PureComponent);se(ce,"displayName","PolarRadiusAxis");se(ce,"axisType","radiusAxis");se(ce,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ee(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ge(r.key),r)}}function ur(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fr(t,e,n){return e=ae(e),dr(t,He()?Reflect.construct(e,n||[],ae(t).constructor):e.apply(t,n))}function dr(t,e){if(e&&(z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}function pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(He=function(){return!!t})()}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(t)}function mr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},me(t,e)}function le(t,e,n){return e=Ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ge(t){var e=vr(t,"string");return z(e)=="symbol"?e:e+""}function vr(t,e){if(z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=Math.PI/180,Le=1e-5,ue=function(t){function e(){return lr(this,e),fr(this,e,arguments)}return mr(e,t),ur(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,i=a.cy,u=a.radius,s=a.orientation,c=a.tickSize,f=c||8,m=T(o,i,u,r.coordinate),h=T(o,i,u+(s==="inner"?-1:1)*f,r.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*hr),i;return o>Le?i=a==="outer"?"start":"end":o<-Le?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.radius,u=r.axisLine,s=r.axisLineType,c=$($({},A(this.props,!1)),{},{fill:"none"},A(u,!1));if(s==="circle")return p.createElement(tt,C({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:o,r:i}));var f=this.props.ticks,m=f.map(function(h){return T(a,o,i,h.coordinate)});return p.createElement(Bt,C({className:"recharts-polar-angle-axis-line"},c,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,u=a.tickLine,s=a.tickFormatter,c=a.stroke,f=A(this.props,!1),m=A(i,!1),h=$($({},f),{},{fill:"none"},A(u,!1)),O=o.map(function(v,d){var g=r.getTickLineCoord(v),b=r.getTickTextAnchor(v),x=$($($({textAnchor:b},f),{},{stroke:"none",fill:c},m),{},{index:d,payload:v,x:g.x2,y:g.y2});return p.createElement(_,C({className:L("recharts-polar-angle-axis-tick",Fe(i)),key:"tick-".concat(v.coordinate)},ye(r.props,v,d)),u&&p.createElement("line",C({className:"recharts-polar-angle-axis-tick-line"},h,g)),i&&e.renderTickItem(i,x,s?s(v.value,d):v.value))});return p.createElement(_,{className:"recharts-polar-angle-axis-ticks"},O)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!a||!a.length?null:p.createElement(_,{className:L("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var i;return p.isValidElement(r)?i=p.cloneElement(r,a):D(r)?i=r(a):i=p.createElement(he,C({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(oe.PureComponent);le(ue,"displayName","PolarAngleAxis");le(ue,"axisType","angleAxis");le(ue,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var re;function H(t){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(t)}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(this,arguments)}function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ne(Object(n),!0).forEach(function(r){j(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function gr(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function br(t,e,n){return e=ie(e),xr(t,Qe()?Reflect.construct(e,n||[],ie(t).constructor):e.apply(t,n))}function xr(t,e){if(e&&(H(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(t)}function Ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qe=function(){return!!t})()}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ie(t)}function Or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ve(t,e)}function j(t,e,n){return e=Ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(t){var e=Pr(t,"string");return H(e)=="symbol"?e:e+""}function Pr(t,e){if(H(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E=function(t){function e(n){var r;return yr(this,e),r=br(this,e,[n]),j(r,"pieRef",null),j(r,"sectorRefs",[]),j(r,"id",ct("recharts-pie-")),j(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),D(a)&&a()}),j(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),D(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Or(e,t),gr(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,u=o.labelLine,s=o.dataKey,c=o.valueKey,f=A(this.props,!1),m=A(i,!1),h=A(u,!1),O=i&&i.offsetRadius||20,v=r.map(function(d,g){var b=(d.startAngle+d.endAngle)/2,x=T(d.cx,d.cy,d.outerRadius+O,b),k=y(y(y(y({},f),d),{},{stroke:"none"},m),{},{index:g,textAnchor:e.getTextAnchor(x.x,d.cx)},x),F=y(y(y(y({},f),d),{},{fill:"none",stroke:d.fill},h),{},{index:g,points:[T(d.cx,d.cy,d.outerRadius,b),x]}),w=s;return W(s)&&W(c)?w="value":W(s)&&(w=c),p.createElement(_,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(g)},u&&e.renderLabelLineItem(u,F,"line"),e.renderLabelItem(i,k,B(d,w)))});return p.createElement(_,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,i=o.activeShape,u=o.blendStroke,s=o.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(f),h=s&&a.hasActiveIndex()?s:null,O=m?i:h,v=y(y({},c),{},{stroke:u?c.fill:c.stroke,tabIndex:-1});return p.createElement(_,U({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},ye(a.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),p.createElement(nt,U({option:O,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,i=a.isAnimationActive,u=a.animationBegin,s=a.animationDuration,c=a.animationEasing,f=a.animationId,m=this.state,h=m.prevSectors,O=m.prevIsAnimationActive;return p.createElement(at,{begin:u,duration:s,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(O),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var d=v.t,g=[],b=o&&o[0],x=b.startAngle;return o.forEach(function(k,F){var w=h&&h[F],N=F>0?it(k,"paddingAngle",0):0;if(w){var G=Pe(w.endAngle-w.startAngle,k.endAngle-k.startAngle),P=y(y({},k),{},{startAngle:x+N,endAngle:x+G(d)+N});g.push(P),x=P.endAngle}else{var K=k.endAngle,S=k.startAngle,Y=Pe(0,K-S),J=Y(d),R=y(y({},k),{},{startAngle:x+N,endAngle:x+J+N});g.push(R),x=R.endAngle}}),p.createElement(_,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!ot(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,i=a.sectors,u=a.className,s=a.label,c=a.cx,f=a.cy,m=a.innerRadius,h=a.outerRadius,O=a.isAnimationActive,v=this.state.isAnimationFinished;if(o||!i||!i.length||!M(c)||!M(f)||!M(m)||!M(h))return null;var d=L("recharts-pie",u);return p.createElement(_,{tabIndex:this.props.rootTabIndex,className:d,ref:function(b){r.pieRef=b}},this.renderSectors(),s&&this.renderLabels(i),ge.renderCallByParent(this.props,null,!1),(!O||v)&&st.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(p.isValidElement(r))return p.cloneElement(r,a);if(D(r))return r(a);var i=L("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return p.createElement(rt,U({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,o){if(p.isValidElement(r))return p.cloneElement(r,a);var i=o;if(D(r)&&(i=r(a),p.isValidElement(i)))return i;var u=L("recharts-pie-label-text",typeof r!="boolean"&&!D(r)?r.className:"");return p.createElement(he,U({},a,{alignmentBaseline:"middle",className:u}),i)}}])}(oe.PureComponent);re=E;j(E,"displayName","Pie");j(E,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});j(E,"parseDeltaAngle",function(t,e){var n=te(e-t),r=Math.min(Math.abs(e-t),360);return n*r});j(E,"getRealPieData",function(t){var e=t.data,n=t.children,r=A(t,!1),a=ut(n,ft);return e&&e.length?e.map(function(o,i){return y(y(y({payload:o},r),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return y(y({},r),o.props)}):[]});j(E,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,o=e.height,i=dt(a,o),u=r+ee(t.cx,a,a/2),s=n+ee(t.cy,o,o/2),c=ee(t.innerRadius,i,0),f=ee(t.outerRadius,i,i*.8),m=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:s,innerRadius:c,outerRadius:f,maxRadius:m}});j(E,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?y(y({},e.type.defaultProps),e.props):e.props,a=re.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,i=r.startAngle,u=r.endAngle,s=r.paddingAngle,c=r.dataKey,f=r.nameKey,m=r.valueKey,h=r.tooltipType,O=Math.abs(r.minAngle),v=re.parseCoordinateOfPie(r,n),d=re.parseDeltaAngle(i,u),g=Math.abs(d),b=c;W(c)&&W(m)?(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):W(c)&&(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=m);var x=a.filter(function(P){return B(P,b,0)!==0}).length,k=(g>=360?x:x-1)*s,F=g-x*O-k,w=a.reduce(function(P,K){var S=B(K,b,0);return P+(M(S)?S:0)},0),N;if(w>0){var G;N=a.map(function(P,K){var S=B(P,b,0),Y=B(P,f,K),J=(M(S)?S:0)/w,R;K?R=G.endAngle+te(d)*s*(S!==0?1:0):R=i;var xe=R+te(d)*((S!==0?O:0)+J*F),Ae=(R+xe)/2,Oe=(v.innerRadius+v.outerRadius)/2,Xe=[{name:Y,value:S,payload:P,dataKey:b,type:h}],Ye=T(v.cx,v.cy,Oe,Ae);return G=y(y(y({percent:J,cornerRadius:o,name:Y,tooltipPayload:Xe,midAngle:Ae,middleRadius:Oe,tooltipPosition:Ye},P),v),{},{value:B(P,b),startAngle:R,endAngle:xe,payload:P,paddingAngle:te(d)*s}),G})}return y(y({},v),{},{sectors:N,data:a})});var jr=pt({chartName:"PieChart",GraphicalChild:E,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ue},{axisType:"radiusAxis",AxisComp:ce}],formatAxisMap:mt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const kr={total:0,active:0,on_hold:0,expired:0,limited:0,online:0,recent_subscription_updates:[]};async function _r(){return await Be("/system/stats/users").then(t=>t)}const wr="stats",Sr=()=>Ke({queryKey:[wr,vt],queryFn:_r,initialData:kr}),Tr={active:{label:"Active",color:"#3b82f6"},online:{label:"Online",color:"#10b981"},expired:{label:"Expired",color:"#4b5563"},onHold:{label:"On Hold",color:"#A855F7"},limited:{label:"Limited",color:"#ef4444"}},Er=({total:t,limited:e,active:n,expired:r,on_hold:a,online:o})=>{const{t:i}=be(),u=[{type:"limited",total:e,fill:"var(--color-limited)"},{type:"active",total:n,fill:"var(--color-active)"},{type:"expired",total:r,fill:"var(--color-expired)"},{type:"onHold",total:a,fill:"var(--color-onHold)"},{type:"online",total:o,fill:"var(--color-online)"}];return l.jsx(Me,{title:l.jsxs(l.Fragment,{children:[" ",l.jsx(gt,{})," ",i("users")," "]}),description:i("page.home.users-stats.desc"),className:"h-full",children:l.jsx(Ve,{config:Tr,className:"mx-auto aspect-square min-h-[300px]  w-full",children:l.jsxs(jr,{children:[l.jsx(Ue,{cursor:!1,content:l.jsx(We,{hideLabel:!0})}),l.jsx(E,{data:u,dataKey:"total",nameKey:"type",innerRadius:60,strokeWidth:5,children:l.jsx(ge,{content:({viewBox:s})=>{if(s&&"cx"in s&&"cy"in s)return l.jsxs("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",children:[l.jsx("tspan",{x:s.cx,y:s.cy,className:"fill-foreground text-3xl font-bold",children:t||0}),l.jsx("tspan",{x:s.cx,y:(s.cy||0)+24,className:"fill-muted-foreground",children:i("users")})]})}})}),l.jsx(ht,{className:"flex -translate-y-2 flex-wrap gap-2 [&>*]:basis-1/5 [&>*]:justify-center text-md",content:l.jsx(yt,{})})]})})})},Rr={total:0,usages:[]};async function Lr({queryKey:t}){return await Be("/system/stats/traffic",{query:{start:t[3].start,end:t[3].end}}).then(e=>e)}const Nr=({start:t,end:e})=>Ke({queryKey:["system","stats","traffic",{start:t,end:e}],queryFn:Lr,refetchInterval:1e3*60*5,initialData:Rr});function Ir(){return l.jsxs("div",{className:"p-4 rounded-lg bg-muted",children:[l.jsx("div",{className:"mb-4",children:l.jsx(Q,{className:"h-6 w-1/4"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Q,{className:"h-32 w-full rounded"}),l.jsx(Q,{className:"h-32 w-full rounded"}),l.jsx(Q,{className:"h-32 w-full rounded"}),l.jsx(Q,{className:"h-32 w-full rounded"})]})]})}const $r={traffic:{label:"Traffic",color:"hsl(var(--chart-1))"}},Dr=()=>{const{t}=be(),[e,n]=oe.useState("1d"),{start:r,end:a}=bt(e),{data:o,isPending:i}=Nr({start:r,end:a}),u=xt(o.usages),[s,c]=fe(o.total);return l.jsx(At,{Component:l.jsx(Me,{title:l.jsx("div",{className:"hstack justify-between w-full",children:t("page.home.total-traffics.title")}),description:t("page.home.total-traffics.desc"),options:l.jsxs("div",{className:"vstack justify-end w-full",children:[l.jsxs("span",{className:"text-lg leading-none sm:text-2xl w-full",children:[s," ",c]}),l.jsx("span",{className:"text-sm flex justify-end  text-muted-foreground w-full",children:"Total"})]}),footer:l.jsx(St,{timeRange:e,setTimeRange:n}),children:l.jsx(Ve,{config:$r,className:"aspect-auto h-[320px] w-full",children:l.jsxs(Ot,{accessibilityLayer:!0,data:u,margin:{left:12,top:13,right:12},children:[l.jsx(Pt,{vertical:!1}),l.jsx(jt,{tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:f=>{const[m,h]=fe(f);return`${m} ${h}`}}),l.jsx(kt,{dataKey:"datetime",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:f=>_t(f,e)}),l.jsx(Ue,{content:l.jsx(We,{indicator:"line",labelFormatter:f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric"}),valueFormatter:f=>{const[m,h]=fe(f);return`${m} ${h}`}})}),l.jsx(wt,{dataKey:"traffic",fill:"var(--color-traffic)"})]})})}),Skeleton:l.jsx(Ir,{}),isFetching:i})},Cr=()=>{const{t}=be(),{data:e}=Sr();return l.jsx(Et,{className:"flex flex-col gap-4 w-full",title:t("home"),children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[l.jsx("div",{className:e.total!==0?"md:col-span-8":"md:col-span-12",children:l.jsx(Dr,{})}),e.total!==0&&l.jsx("div",{className:"md:col-span-4",children:l.jsx(Er,{...e})})]})})},Br=Tt("/_dashboard/")({component:()=>l.jsx(Cr,{})});export{Cr as DashboardPage,Br as Route};
